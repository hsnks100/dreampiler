#include <sstream>
#include <iostream>
#include "scanner.h" 
int main() {
    std::istringstream is(R"(
    (200 + 12) * 34 + 56 - 100;
    200 + 12 * 34 + 56 - 100;
    200 + (12 * 34) + 56 - 100;
    -100;
    1 + -5;
    -(1 + -5);
    -(1 + -5)*4 + 100 * 3;
    1 * -100;
    1 * -100 + 30 / 3 - (1 + -3) - (10 + 1030 + 30) * 3 * 2 -((123 + 30));
    (1 * -100 + 30 / 3 - (1 + -3) - (10 + 1030 + 30) * 3 * 2 -((123 + 30)));
    (1 * -100 + 30 / 3 - (1 + -3) - (10 + 1030 + 30) * 3 * 2 -((123 + 30))) * 3 - 100;
    100 - -100;
    100 - (-100);
    100 - (-100 + 1 - 3 * 10 / 2 / 5 - 10 + 3838 - 1003 + 13) - 3 - 1-  3;
    
    )"); 
    std::vector<int> answer = {
        (200 + 12) * 34 + 56 - 100,
        200 + 12 * 34 + 56 - 100,
        200 + (12 * 34) + 56 - 100,
        -100,
        1 + -5,
        -(1 + -5),
        -(1 + -5)*4 + 100 * 3, 
        1 * -100,
        1 * -100 + 30 / 3 - (1 + -3) - (10 + 1030 + 30) * 3 * 2 -((123 + 30)), 
        (1 * -100 + 30 / 3 - (1 + -3) - (10 + 1030 + 30) * 3 * 2 -((123 + 30))),

        (1 * -100 + 30 / 3 - (1 + -3) - (10 + 1030 + 30) * 3 * 2 -((123 + 30))) * 3 - 100,
        100 - -100, 
        100 - (-100),
        100 - (-100 + 1 - 3 * 10 / 2 / 5 - 10 + 3838 - 1003 + 13) - 3 - 1-  3
    };

    for(auto i: answer) {
        printf("correct %d\n", i);
    }
    Scanner scanner(&is);
    while(1) {
        int t = scanner.yylex();
        if(t == 0) {
            break;
        }
    }

    scanner.m_kparser.parse();
}
